{"version":3,"sources":["components/Messages.js","components/MessagesContainer.js"],"names":["User_item","props","to","id","name","User_dialog","className","classes","dialog","message","maxLenght10","maxLenghtCreator","MessagesReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","requiredField","Messages","dialogsElements","dialogsData","map","key","post","posts","messageId","Math","max","p","Messages_user","dialogs","values","addMessage","newMessageText","compose","connect","state","messagesPage","dispatch","addMessageActionCreator","withAuthRedirect"],"mappings":"6MAOMA,EAAY,SAACC,GAAD,OACjB,6BACC,kBAAC,IAAD,CAASC,GAAI,aAAeD,EAAME,IAAKF,EAAMG,QAIzCC,EAAc,SAACJ,GAAD,OACnB,yBAAKK,UAAWC,IAAQC,QAASP,EAAMQ,UAwBlCC,EAAcC,YAAiB,IAW/BC,EAAoBC,YAAU,CAACC,KAAM,WAAjBD,EATL,SAACZ,GACrB,OACC,0BAAMc,SAAUd,EAAMe,cACrB,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUf,KAAM,iBAAkBgB,SAAU,CAACC,IAAeX,KAC9E,8FAOYY,EAlCE,SAACrB,GACjB,IAAIsB,EAAkBtB,EAAMuB,YAAYC,KAAM,SAAAjB,GAAM,OAAI,kBAAC,EAAD,CAAWkB,IAAKlB,EAAOL,GAAIC,KAAMI,EAAOJ,KAAMD,GAAIK,EAAOL,QAC7GwB,EAAO1B,EAAM2B,MAAMH,KAAM,SAAAG,GAAK,OAAI,kBAAC,EAAD,CAAaF,IAAKE,EAAMzB,GAAIM,QAASmB,EAAMnB,QAASN,GAAIyB,EAAMzB,QAChG0B,EAAYC,KAAKC,IAAL,MAAAD,KAAI,YAAQ7B,EAAM2B,MAAMH,KAAI,SAAAO,GAAC,OAAIA,EAAE7B,QAAO,EAK1D,OACA,yBAAKG,UAAWC,IAAQe,UACvB,yBAAKhB,UAAWC,IAAQ0B,eACtBV,GAEF,yBAAKjB,UAAWC,IAAQ2B,SACtBP,GAEF,kBAACf,EAAD,CAAmBG,SAZA,SAACoB,GACpBlC,EAAMmC,WAAWD,EAAOE,eAAgBR,Q,uBCA3BS,sBACdC,aAhBqB,SAACC,GACtB,MAAO,CACNhB,YAAagB,EAAMC,aAAajB,YAChCI,MAAOY,EAAMC,aAAab,MAC1BS,eAAgBG,EAAMC,aAAaJ,mBAGZ,SAACK,GACzB,MAAO,CACNN,WAAY,SAACC,EAAgBR,GAC5Ba,EAASC,YAAwBN,EAAgBR,SAOnDe,IAFcN,CAGbhB","file":"static/js/4.f448193f.chunk.js","sourcesContent":["import React from 'react';\r\nimport classes from '../App.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLenghtCreator, requiredField} from \"../utils/validators/validators\";\r\nimport {Textarea} from \"./Common/FormControl/FormControl\";\r\n\r\nconst User_item = (props) => (\r\n\t<div>\r\n\t\t<NavLink to={\"/messages/\" + props.id}>{props.name}</NavLink>\r\n\t</div>\r\n);\r\n\r\nconst User_dialog = (props) => (\r\n\t<div className={classes.dialog}>{props.message}</div>\r\n);\r\n\t\r\nconst Messages = (props) => {\r\n\tlet dialogsElements = props.dialogsData.map ( dialog => <User_item key={dialog.id} name={dialog.name} id={dialog.id}/>);\r\n\tlet post = props.posts.map ( posts => <User_dialog key={posts.id} message={posts.message} id={posts.id}/>);\r\n\tlet messageId = Math.max(...props.posts.map(p => p.id)) + 1;\r\n\tlet addNewMessage = (values) => {\r\n\t\tprops.addMessage(values.newMessageText, messageId);\r\n\t}\r\n\r\n\treturn (\r\n\t<div className={classes.Messages}>\r\n\t\t<div className={classes.Messages_user}>\r\n\t\t\t{dialogsElements}\r\n\t\t</div>\r\n\t\t<div className={classes.dialogs}>\r\n\t\t\t{post}\r\n\t\t</div>\r\n\t\t<MessagesReduxForm onSubmit={addNewMessage}/>\r\n\t</div>\r\n\t);\r\n}\r\n\r\nconst maxLenght10 = maxLenghtCreator(10);\r\n\r\nconst MessagesForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<Field component={Textarea} name={\"newMessageText\"} validate={[requiredField, maxLenght10]}/>\r\n\t\t\t<button>сообщение</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst MessagesReduxForm = reduxForm({form: 'message'}) (MessagesForm)\r\n\r\nexport default Messages;","import React from 'react';\r\nimport {addMessageActionCreator} from '../redux/messagesPage-reducer.js';\r\nimport Messages from \"./Messages\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsData: state.messagesPage.dialogsData,\r\n\t\tposts: state.messagesPage.posts,\r\n\t\tnewMessageText: state.messagesPage.newMessageText\r\n\t}\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddMessage: (newMessageText, messageId) => {\r\n\t\t\tdispatch(addMessageActionCreator(newMessageText, messageId));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Messages);\r\n"],"sourceRoot":""}